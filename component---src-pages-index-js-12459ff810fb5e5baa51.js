(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{165:function(e,t,n){"use strict";n.r(t);n(181);var a=n(185),r=n.n(a),s=(n(104),n(44),n(111),n(70),n(45),n(103),n(188),n(189)),c=n.n(s),u=(n(102),n(109),n(0)),i=n.n(u),l=n(168),o=n(190),m=n(191),f=n.n(m),p=n(170),d=n(40),b=n(82);t.default=function(){var e=Object(u.useContext)(d.c).searchQueryState,t=Object(u.useContext)(b.b),n=t.tokenState,a=t.setTokenState,s=Object(u.useState)(e.map(function(e){return{id:e.id,name:e.name}})),m=s[0],v=s[1],h=null;Object(u.useEffect)(function(){if(!e.length)return Object(l.b)("/settings");g()},[]);var E=function(e){return h||(h=new f.a({auth:e}))},g=(y=c()(r.a.mark(function t(a){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&a.preventDefault(),n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Promise.all(e.map(function(){var e=c()(r.a.mark(function e(t){var a,s,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t.queryString.length){e.next=7;break}return e.next=3,E(n).search.issuesAndPullRequests({q:t.queryString[0]});case 3:return a=e.sent,e.abrupt("return",{id:t.id,name:t.name,items:a.data.items});case 7:return e.next=9,Promise.all(t.queryString.map(function(){var e=c()(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n).search.issuesAndPullRequests({q:t});case 2:return a=e.sent,e.abrupt("return",a.data.items);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 9:return s=e.sent,u=s.reduce(function(e,t){var n=t.filter(function(t){return!e.find(function(e){return e.id===t.id})});return[].concat(e,n)},[]),e.abrupt("return",{id:t.id,name:t.name,items:u});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:s=t.sent,v(s);case 7:case"end":return t.stop()}},t)})),function(e){return y.apply(this,arguments)});var y;return i.a.createElement(p.a,null,i.a.createElement("div",{className:"mb-3"},i.a.createElement("form",{className:"form-inline",onSubmit:function(e){return g(e)}},i.a.createElement("div",{className:"form-group mr-2 w-25"},i.a.createElement("input",{className:"form-control w-100",type:"password",name:"gt",value:n,onChange:function(e){return a(e.currentTarget.value)}})),i.a.createElement("button",{className:"btn btn-primary"},"fetch"))),m.map(function(e){return i.a.createElement("div",{key:e.id,className:"card mb-4"},i.a.createElement("h5",{className:"card-header d-flex justify-content-between align-items-center"},i.a.createElement("span",null,e.name),i.a.createElement("button",{className:"btn btn-outline-dark",onClick:function(){return function(e){o.writeText(e.items.map(function(e){return function(e){var t=e.repository_url.split("/").pop();return"[#"+e.number+" "+e.title+"]("+e.html_url+") ["+t+"]"}(e)}).join("\n"))}(e)}},"copy as markdown")),i.a.createElement("div",{className:"card-body"},e.hasOwnProperty("items")?e.items.length?i.a.createElement("ul",{className:"list-group list-group-flush"},e.items.map(function(e){return function(e){var t=e.repository_url.split("/").pop(),n="#"+e.number+" "+e.title;return i.a.createElement("li",{key:e.id,className:"list-group-item"},i.a.createElement("span",{className:"text-secondary mr-2"},t),i.a.createElement("a",{href:e.html_url,title:n,target:"_blank",rel:"noopener noreferrer"},n),i.a.createElement("div",null,e.labels.length&&e.labels.map(function(e){return i.a.createElement("span",{key:e.id,className:"badge badge-light mr-1",style:{color:"#fff",backgroundColor:"#"+e.color}},e.name)})))}(e)})):i.a.createElement("div",null,"なし"):i.a.createElement("div",null,"Loading...")))}))}},167:function(e,t,n){var a;e.exports=(a=n(171))&&a.default||a},168:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(6),c=n.n(s),u=n(41),i=n.n(u);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return u.navigate});n(167),r.a.createContext({});c.a.object,c.a.string.isRequired,c.a.func,c.a.func},170:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(168);t.a=function(e){var t=e.children;return r.a.createElement("div",{className:"container my-5"},r.a.createElement("header",{className:"mb-4 d-flex justify-content-between align-items-center"},r.a.createElement("h1",null,"Github Search List"),r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.a,{className:"nav-link",activeClassName:"disabled",to:"/"},"HOME")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.a,{className:"nav-link",activeClassName:"disabled",to:"/settings"},"SETTINGS")))),r.a.createElement("main",null,t))}},171:function(e,t,n){"use strict";n.r(t);n(42);var a=n(0),r=n.n(a),s=n(6),c=n.n(s),u=n(67),i=function(e){var t=e.location,n=e.pageResources;return n?r.a.createElement(u.a,Object.assign({location:t,pageResources:n},n.json)):null};i.propTypes={location:c.a.shape({pathname:c.a.string.isRequired}).isRequired},t.default=i}}]);
//# sourceMappingURL=component---src-pages-index-js-12459ff810fb5e5baa51.js.map